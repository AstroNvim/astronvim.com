---
import "@fontsource-variable/inter";
import { AstroSeo } from "@astrolib/seo";
import "~/styles/index.css";

const { generator } = Astro;

export interface Props {
  title?: string;
}

const { title = "AstroNvim" } = Astro.props;
---

<AstroSeo
  title={title}
  description="An aesthetically pleasing and feature-rich neovim config that is extensible and easy to use with a great set of plugins"
  canonical="https://astronvim.com"
  openGraph={{
    url: "https://astronvim.com",
    title: title,
    description:
      "An aesthetically pleasing and feature-rich neovim config that is extensible and easy to use with a great set of plugins",
    images: [
      {
        url: "https://astronvim.com/logo/banner.png",
        alt: "AstroNvim banner",
      },
    ],
    site_name: "AstroNvim",
  }}
  twitter={{
    handle: "@AstroNvim",
    site: "@AstroNvim",
    cardType: "summary_large_image",
  }}
/>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width" />
<meta
  name="theme-color"
  content="#feeeee"
  media="(prefers-color-scheme: light)"
/>
<meta
  name="theme-color"
  content="#1a1d23"
  media="(prefers-color-scheme: dark)"
/>
<link rel="icon" href="/logo/favicon.ico" sizes="any" />
<link rel="icon" href="/logo/astronvim.svg" type="image/svg+xml" />
<link rel="apple-touch-icon" href="/logo/apple-touch-icon.png" />
<link rel="manifest" href="/manifest.webmanifest" />
<link rel="sitemap" href="/sitemap-index.xml" />
<meta name="generator" content={generator} />
<script
  defer
  data-domain="astronvim.com"
  src="https://plausible.mehalter.com/js/script.js"></script>

<!-- initialize theme -->
<script is:inline>
  const rawThemeSaved = localStorage.getItem("raw_theme");
  document.documentElement.dataset.raw_theme = rawThemeSaved
    ? rawThemeSaved
    : "auto";

  const updateTheme = () => {
    const theme = document.documentElement.dataset.raw_theme;
    document.documentElement.dataset.theme =
      theme === "auto"
        ? window.matchMedia("(prefers-color-scheme: dark)").matches
          ? "dark"
          : "light"
        : theme;
  };

  window
    .matchMedia("(prefers-color-scheme: dark)")
    .addEventListener("change", updateTheme);

  updateTheme();
</script>
